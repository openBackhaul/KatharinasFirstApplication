## deviceList sync


  ## request the list of (mount-name, connection-state) from the controller
  - forwarding-name: CyclicOperationCausesRequestForListOfDevicesAtController
    uuid: mwdi-1-0-0-op-fc-is-010
    forwarding-type: InvariantProcessSnippet
    management-requests:
      operation-client-update: # if controller ip+port would be read from RO/CurrentController /v1/embed-yourself possibly would have to be added here like in MATR
      fc-port-update:
      fc-port-deletion:
      operation-client-deletion:
    initiating-requests:
      - server-name: /v1/embed-yourself
        uuid: mwdi-1-0-0-op-s-bm-001
    consequent-requests:
      - client-name: ODL://rests/data/network-topology:network-topology/topology=topology-netconf?fields=node(node-id;netconf-node-topology:connection-status)
        uuid: mwdi-1-0-0-op-c-is-c-4-0-2-000

  ## the current MWDI deviceList is retrieved from ElasticSearch for comparison with the list of devices from the Controller
  - forwarding-name: CyclicOperationCausesRequestForReadingDeviceListFromElasticSearch
    uuid: mwdi-1-0-0-op-fc-is-011
    forwarding-type: InvariantProcessSnippet
    management-requests:
      operation-client-update:
      fc-port-update:
      fc-port-deletion:
      operation-client-deletion:
    initiating-requests:
      - server-name: /v1/embed-yourself
        uuid: mwdi-1-0-0-op-s-bm-001
    consequent-requests:
      - client-name: ElasticSearch
        uuid: mwdi-1-0-0-es-c-es-1-0-0-000

  ## both retrieved lists are compared internally in MWDI, then updates are written back to ElasticSearch
  ## new connected devices are added to deviceList, disconnected devices are deleted from ElasticSearch (deviceList + CC) 
  - forwarding-name: CyclicOperationCausesWritingDeviceListComparisonUpdatesIntoElasticSearch
    uuid: mwdi-1-0-0-op-fc-is-012
    forwarding-type: InvariantProcessSnippet
    management-requests:
      operation-client-update:
      fc-port-update:
      fc-port-deletion:
      operation-client-deletion:
    initiating-requests:
      - server-name: /v1/embed-yourself
        uuid: mwdi-1-0-0-op-s-bm-001
    consequent-requests:
      - client-name: ElasticSearch
        uuid: mwdi-1-0-0-es-c-es-1-0-0-000

  # inform subscriber apps about new devices (own notification sent per device)
  - forwarding-name: CyclicOperationCausesInformingSubscribersAboutNewDevice
    uuid: mwdi-1-0-0-op-fc-is-013
    forwarding-type: InvariantProcessSnippet # not set to subscription as MWDI is not offering a subscription, but only consuming subscription from other application
    management-requests:
      operation-client-update:
      fc-port-update:
      fc-port-deletion:
      operation-client-deletion:
    initiating-requests:
      - server-name: /v1/embed-yourself
        uuid: mwdi-1-0-0-op-s-bm-001
    consequent-requests:
      - client-name: XX://v1/regard-availability-of-new-device
        uuid: mwdi-1-0-0-op-c-is-xx-1-0-0-000
