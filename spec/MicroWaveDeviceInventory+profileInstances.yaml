profile-instances:

  - profile-name: 'ActionProfile'
    uuid: 'mwdi-1-0-0-action-p-000'
    capability:
      operation-name: '/v1/start-application-in-generic-representation'
      label: 'Inform about Application'
      display-in-new-browser-window: false
    configuration:
      consequent-operation-reference: '/core-model-1-4:control-construct/logical-termination-point=*-1-0-0-op-s-bs-002/layer-protocol=0/operation-server-interface-1-0:operation-server-interface-pac/operation-server-interface-capability/operation-name'

  - profile-name: 'ActionProfile'
    uuid: 'mwdi-1-0-0-action-p-001'
    capability:
      operation-name: '/v1/inform-about-application-in-generic-representation'
      label: 'Release History'
      display-in-new-browser-window: false
    configuration:
      consequent-operation-reference: '/core-model-1-4:control-construct/logical-termination-point=*-1-0-0-op-s-bs-004/layer-protocol=0/operation-server-interface-1-0:operation-server-interface-pac/operation-server-interface-capability/operation-name'

  - profile-name: 'ActionProfile'
    uuid: 'mwdi-1-0-0-action-p-002'
    capability:
      operation-name: '/v1/inform-about-application-in-generic-representation'
      label: 'API Documentation'
      display-in-new-browser-window: true
    configuration:
      consequent-operation-reference: '/core-model-1-4:control-construct/logical-termination-point=*-1-0-0-op-s-bs-005/layer-protocol=0/operation-server-interface-1-0:operation-server-interface-pac/operation-server-interface-capability/operation-name'

  - profile-name: 'GenericResponseProfile'
    uuid: 'mwdi-1-0-0-response-p-000'
    capability:
      operation-name: '/v1/start-application-in-generic-representation'
      static-field-name: 'applicationName'
      description: 'Own application name'
      datatype: 'string'
    configuration:
      value-reference: '/core-model-1-4:control-construct/logical-termination-point=*-1-0-0-http-s-000/layer-protocol=0/http-server-interface-1-0:http-server-interface-pac/http-server-interface-capability/application-name'

  - profile-name: 'GenericResponseProfile'
    uuid: 'mwdi-1-0-0-response-p-001'
    capability:
      operation-name: '/v1/inform-about-application-in-generic-representation'
      static-field-name: 'applicationName'
      description: 'Name of this application'
      datatype: 'string'
    configuration:
      value-reference: '/core-model-1-4:control-construct/logical-termination-point=*-1-0-0-http-s-000/layer-protocol=0/http-server-interface-1-0:http-server-interface-pac/http-server-interface-capability/application-name'

  - profile-name: 'GenericResponseProfile'
    uuid: 'mwdi-1-0-0-response-p-002'
    capability:
      operation-name: '/v1/inform-about-application-in-generic-representation'
      static-field-name: 'releaseNumber'
      description: 'Number of this release'
      datatype: 'string'
    configuration:
      value-reference: '/core-model-1-4:control-construct/logical-termination-point=*-1-0-0-http-s-000/layer-protocol=0/http-server-interface-1-0:http-server-interface-pac/http-server-interface-capability/release-number'

  - profile-name: 'GenericResponseProfile'
    uuid: 'mwdi-1-0-0-response-p-003'
    capability:
      operation-name: '/v1/inform-about-application-in-generic-representation'
      static-field-name: 'applicationPurpose'
      description: 'Purpose of this application'
      datatype: 'string'
    configuration:
      value-reference: '/core-model-1-4:control-construct/logical-termination-point=*-1-0-0-http-s-000/layer-protocol=0/http-server-interface-1-0:http-server-interface-pac/http-server-interface-capability/application-purpose'

  - profile-name: 'GenericResponseProfile'
    uuid: 'mwdi-1-0-0-response-p-004'
    capability:
      operation-name: '/v1/inform-about-application-in-generic-representation'
      static-field-name: 'dataUpdatePeriod'
      description: 'Period of updating the data inside this application'
      datatype: 'string'
    configuration:
      value-reference: '/core-model-1-4:control-construct/logical-termination-point=*-1-0-0-http-s-000/layer-protocol=0/http-server-interface-1-0:http-server-interface-pac/http-server-interface-capability/data-update-period'

  - profile-name: 'GenericResponseProfile'
    uuid: 'mwdi-1-0-0-response-p-005'
    capability:
      operation-name: '/v1/inform-about-application-in-generic-representation'
      static-field-name: 'ownerName'
      description: 'Name of the ApplicationOwner'
      datatype: 'string'
    configuration:
      value-reference: '/core-model-1-4:control-construct/logical-termination-point=*-1-0-0-http-s-000/layer-protocol=0/http-server-interface-1-0:http-server-interface-pac/http-server-interface-capability/owner-name'

  - profile-name: 'GenericResponseProfile'
    uuid: 'mwdi-1-0-0-response-p-006'
    capability:
      operation-name: '/v1/inform-about-application-in-generic-representation'
      static-field-name: 'ownerEmailAddress'
      description: 'Email address of the ApplicationOwner'
      datatype: 'string'
    configuration:
      value-reference: '/core-model-1-4:control-construct/logical-termination-point=*-1-0-0-http-s-000/layer-protocol=0/http-server-interface-1-0:http-server-interface-pac/http-server-interface-capability/owner-email-address'

  - profile-name: 'GenericResponseProfile'
    uuid: 'mwdi-1-0-0-response-p-007'
    capability:
      operation-name: '/v1/inform-about-release-history-in-generic-representation'
      field-name-reference: '/core-model-1-4:control-construct/logical-termination-point=*-1-0-0-http-s-000/layer-protocol=0/http-server-interface-1-0:http-server-interface-pac/http-server-interface-capability/release-list=0/release-number'
      description: 'Represents the first entry in the list of releases'
      datatype: string
    configuration:
      value-reference: '/core-model-1-4:control-construct/logical-termination-point=*-1-0-0-http-s-000/layer-protocol=0/http-server-interface-1-0:http-server-interface-pac/http-server-interface-capability/release-list=0/changes'

  - profile-name: 'IntegerProfile'
    uuid: 'mwdi-1-0-0-integer-p-000'
    capability:
      integer-name: 'slidingWindowSize'
      ##unit: no unit
      minimum: 1
      maximum: 500
      description: 'Size of the sliding window for ControlConstruct retrieval (i.e. parallel number of retrieval requests)'
    configuration:
      integer-value: 300

  - profile-name: 'IntegerProfile'
    uuid: 'mwdi-1-0-0-integer-p-001'
    capability:
      integer-name: 'ccRetrievalDelay'
      unit: 'second'
      minimum: 0
      maximum: 15
      description: 'Waiting time between ControlConstruct retrieval requests to the Controller'
    configuration:
      integer-value: 5 # e.g. 5 seconds

  - profile-name: 'IntegerProfile'
    uuid: 'mwdi-1-0-0-integer-p-002'
    capability:
      integer-name: 'controlConstructRetentionTime'
      unit: 'hour'
      minimum: 1
      maximum: 24
      description: 'The time until the ControlConstruct of a device expires if it is not updated inside the ElasticSearch db. (Should not be > 6 hours, because of register size for historical PM data!)'
      # info: MWDI shall cache historical PM data, the vendors have different register sizes in place to store this data. E.g. Huawei only stores 8 hours; Comarch currently fetches data every 6 hours.
    configuration:
      integer-value: 6

  - profile-name: 'IntegerProfile'
    uuid: 'mwdi-1-0-0-integer-p-003'
    capability:
      integer-name: 'ccRetrievalAllowedRetries'
      #unit: no unit
      minimum: 0
      maximum: 5
      description: 'In case the CC retrieval fails for a device, there may be this many retries within the respective retrieval period'
    configuration:
      integer-value: 3

  - profile-name: 'IntegerProfile'
    uuid: 'mwdi-1-0-0-integer-p-004'
    capability:
      integer-name: 'ccRetrievalRetryWaitingTime'
      unit: 'second'
      minimum: 900
      maximum: 3600
      description: 'Minimum waiting time until the next CC retrieval retry for a device may be started'
    configuration:
      integer-value: 900

  - profile-name: 'IntegerProfile'
    uuid: 'mwdi-1-0-0-integer-p-005'
    capability:
      integer-name: 'controlConstructRetrievalBlockingTime'
      unit: 'hour'
      minimum: 1
      maximum: 24
      description: 'The time until the ControlConstruct for a given device should not be requested again after previous successful retrieval. If there are no controlConstructs which need to be retrieved for the first time or updated again due to expiration, devices having outrun their blocking time, may be requested again. '
      # Depending on the size of the sliding window and the retentionTime of just 6 hours, it's not unlikely that this situation will not occur
      # This profile prevents the CC being requested again too early, but if the MWDI is idle and there's nothing else to extract the CC could be retrieved to improve load balancing
      # If there are other apps like the MycomButler (which retrieves PM-data), for which retrieval from the MWDI in certain intervals may be necessary, it would be beneficial for those apps to subscribe
      # at the MWDI for notifications about new CCs.
    configuration:
      integer-value: 4
